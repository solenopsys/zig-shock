



## 1. Структура заголовка пакета

Формат пакета содержит следующие компоненты:
1. Один или два мета-байта, описывающие структуру пакета
2. Поле размера сообщения (1 или 2 байта)
3. Опциональные поля:
   - Номер сообщения (0-3 байта)
   - Идентификатор объекта (0-3 байта)
   - Метод (0 или 1 байт)
   - ID сессии (0-3 байта)
   - ID процесса (0-31 байт, но ограничено до 16 в Zig)
4. Тело сообщения

## 2. Метабайты 

### Первый метабайт (BodyMeta):
```
+-+-+-+-+-+-+-+-+
|7|6|5|4|3|2|1|0|
+-+-+-+-+-+-+-+-+
```

- Бит 0: Флаг размера сообщения (0=1 байт, 1=2 байта)
- Бит 1: Next флаг
- Биты 2-3: Длина поля номера сообщения (0-3)
- Биты 4-5: Длина поля идентификатора объекта (0-3)
- Бит 6: Наличие поля метода
- Бит 7: Наличие второго метабайта

### Второй метабайт (ContextMeta):
```
+-+-+-+-+-+-+-+-+
|7|6|5|4|3|2|1|0|
+-+-+-+-+-+-+-+-+
```

- Биты 0-1: Длина поля ID сессии (0-3)
- Биты 2-6: Длина поля ID процесса (0-31)
- Бит 7: Зарезервирован (не используется)